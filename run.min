#!/usr/bin/env min

; Validation
(args size 2 <) ("No task specified" error 1 exit) when

args 1 get ":" split =taskspec
taskspec 0 get :task
"" :subtask
(taskspec size 1 >) (taskspec 1 get @subtask) when

"./tasks/$#.min" (task) =% :task-file

(task-file exists? not) ("Task '$1' does not exist" (task) =% error 2 exit) when

; Execute task
task-file load